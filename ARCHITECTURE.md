# System Architecture & Data Flow

## ğŸ—ï¸ System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         KHATABOOK APPLICATION                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       FRONTEND (React)       â”‚         â”‚   BACKEND (Express)      â”‚
â”‚     http://localhost:5173    â”‚         â”‚ http://localhost:5000    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚         â”‚                          â”‚
â”‚  Pages:                     â”‚         â”‚  Routes:                 â”‚
â”‚  â€¢ Login.jsx                â”‚         â”‚  â€¢ /api/auth             â”‚
â”‚  â€¢ Register.jsx             â”‚         â”‚  â€¢ /api/transactions     â”‚
â”‚  â€¢ AdminPage.jsx            â”‚         â”‚  â€¢ /api/customers        â”‚
â”‚  â€¢ CustomerPage.jsx         â”‚         â”‚                          â”‚
â”‚                             â”‚         â”‚  Middleware:             â”‚
â”‚  Services:                  â”‚         â”‚  â€¢ JWT Auth              â”‚
â”‚  â€¢ api.js                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  â€¢ Input Validation      â”‚
â”‚  â€¢ authService.js           â”‚         â”‚                          â”‚
â”‚                             â”‚         â”‚  Controllers:            â”‚
â”‚  Context:                   â”‚         â”‚  â€¢ authController        â”‚
â”‚  â€¢ AuthContext.jsx          â”‚         â”‚  â€¢ transactionCtrl       â”‚
â”‚                             â”‚         â”‚  â€¢ customerCtrl          â”‚
â”‚                             â”‚         â”‚                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                       â”‚
          â”‚  HTTP/JSON                           â”‚  MongoDB Queries
          â”‚  (Axios)                             â”‚  (Mongoose)
          â”‚                                       â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   MONGODB LOCAL    â”‚
                    â”‚  localhost:27017   â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚  Collections:      â”‚
                    â”‚  â€¢ users           â”‚
                    â”‚  â€¢ transactions    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ‘¥ User Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         NEW USER JOURNEY                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Visits App
       â”‚
       â–¼
Redirects to /login
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                                 â”‚
       â–¼                                 â–¼
   Have Account?               Don't Have Account?
       â”‚                                 â”‚
       â–¼                                 â–¼
   /login                            /register
   â€¢ Email/Phone                     â€¢ Choose Role
   â€¢ Password                        â€¢ Fill Details
       â”‚                             â€¢ Confirm Password
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                   Sends to /api/auth/*
                          â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                    â”‚
                â–¼                    â–¼
           ADMIN                 CUSTOMER
           (Shop Owner)          (Buyer)
                â”‚                    â”‚
                â–¼                    â–¼
           / (Admin               /customer
           Dashboard)            (Customer
                â”‚                Dashboard)
                â”‚                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                â”‚    â”‚             â”‚
        â–¼                â–¼    â–¼             â–¼
    Manage         Create      View        View
    Customers      Trans.      Balance     Trans.
        â”‚            â”‚            â”‚         â”‚
        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚               â”‚
              â–¼               â–¼
         MongoDB         MongoDB
         Queries         Queries
```

---

## ğŸ” Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     JWT AUTHENTICATION FLOW                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Login/Register
       â”‚
       â–¼
POST /api/auth/login
       â”‚
       â–¼
Backend Validates
       â”‚
       â”œâ”€ Password Match?
       â”œâ”€ User Exists?
       â””â”€ Valid Input?
           â”‚
           â””â”€ YES â”€â–¶ Generate JWT Token
                          â”‚
                          â–¼
                   Return Token + User Info
                          â”‚
                          â–¼
                   Frontend Stores in localStorage
                          â”‚
                          â–¼
                   AuthContext Updates
                          â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                   â”‚                   â”‚
       â–¼                   â–¼                   â–¼
    Redirect         Add to Headers      Update UI
    to Dashboard     Authorization:      Show User
                     Bearer <token>      Name
                          â”‚
                          â–¼
                   All API Requests
                   Include Token
                          â”‚
                          â”œâ”€ Token Valid? â”€â–¶ Process Request
                          â”‚
                          â””â”€ Token Expired? â”€â–¶ Logout & Redirect
                                             to /login
```

---

## ğŸ’¾ Database Schema Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATABASE RELATIONSHIPS                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

USERS Collection (Admin)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ _id                     â”‚
â”‚ name                    â”‚
â”‚ email (unique)          â”‚
â”‚ phone (unique)          â”‚
â”‚ password (hashed)       â”‚
â”‚ role: "admin"           â”‚
â”‚ shopName                â”‚
â”‚ createdAt               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ One-to-Many
              â”‚ (as admin)
              â”‚
              â–¼
TRANSACTIONS Collection
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ _id                          â”‚
â”‚ amount                       â”‚
â”‚ type: "LENT" | "BORROW"      â”‚
â”‚ description                  â”‚
â”‚ notes                        â”‚
â”‚ customer: ObjectId â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”
â”‚ admin: ObjectId (points up)  â”‚      â”‚
â”‚ date                         â”‚      â”‚
â”‚ paymentStatus                â”‚      â”‚
â”‚ dueDate                      â”‚      â”‚
â”‚ createdAt                    â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
              â–²                        â”‚
              â”‚ Many-to-One           â”‚
              â”‚ (as customer)          â”‚
              â”‚                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚ USERS Collection (Customer) â”‚       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚ _id â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ name                        â”‚
â”‚ email (unique)              â”‚
â”‚ phone (unique)              â”‚
â”‚ password (hashed)           â”‚
â”‚ role: "customer"            â”‚
â”‚ createdAt                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ API Request Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API REQUEST FLOW                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Frontend Component
       â”‚
       â–¼
Call API Service
(e.g., transactionService.createTransaction())
       â”‚
       â–¼
Axios Interceptor
â”œâ”€ Add Token to Header
â””â”€ Catch 401 Errors
       â”‚
       â–¼
HTTP POST/GET/PUT/DELETE
       â”‚
       â–¼
Backend Express Router
       â”‚
       â–¼
Authentication Middleware
â”œâ”€ Verify JWT Token
â””â”€ Check Token Expiry
       â”‚
       â–¼
Authorization Middleware
â”œâ”€ Check User Role
â””â”€ Allow/Deny Access
       â”‚
       â–¼
Input Validation Middleware
â”œâ”€ Validate Data
â””â”€ Check for Errors
       â”‚
       â–¼
Controller Function
       â”‚
       â”œâ”€ Process Business Logic
       â”œâ”€ Validate Data
       â””â”€ Query Database
       â”‚
       â–¼
MongoDB Query
       â”‚
       â”œâ”€ Find Data
       â”œâ”€ Insert Data
       â”œâ”€ Update Data
       â””â”€ Delete Data
       â”‚
       â–¼
Send Response
       â”‚
       â”œâ”€ Success (200, 201)
       â””â”€ Error (400, 401, 403, 404, 500)
       â”‚
       â–¼
Axios Response Handler
       â”‚
       â”œâ”€ Handle Success
       â”œâ”€ Handle Error
       â””â”€ Logout if 401
       â”‚
       â–¼
Update Frontend State
       â”‚
       â–¼
Re-render UI
```

---

## ğŸ¯ Admin Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ADMIN TYPICAL WORKFLOW                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Admin Logs In
       â”‚
       â–¼
See Dashboard Stats
       â”‚
       â”œâ”€ Total Lent
       â”œâ”€ Total Borrow
       â”œâ”€ Net Balance
       â””â”€ Customer Count
       â”‚
       â–¼
Click on Customer
       â”‚
       â–¼
View Customer Details
       â”‚
       â”œâ”€ Customer Name
       â”œâ”€ Phone/Email
       â”œâ”€ Individual Balance
       â””â”€ Transaction History
       â”‚
       â–¼
+ Add Transaction
       â”‚
       â”œâ”€ Select Type (LENT/BORROW)
       â”œâ”€ Enter Amount
       â”œâ”€ Add Notes
       â””â”€ Submit
       â”‚
       â–¼
POST /api/transactions/create
       â”‚
       â–¼
Transaction Added to DB
       â”‚
       â–¼
UI Updates
       â”‚
       â”œâ”€ Balances Refresh
       â”œâ”€ Transaction List Updates
       â””â”€ Stats Recalculate
       â”‚
       â–¼
Admin Can:
       â”œâ”€ Edit Transaction (PUT)
       â”œâ”€ Delete Transaction (DELETE)
       â”œâ”€ Search Customers (GET)
       â””â”€ View Reports
```

---

## ğŸ‘¤ Customer Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CUSTOMER TYPICAL WORKFLOW                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Customer Logs In
       â”‚
       â–¼
See Dashboard Cards
       â”‚
       â”œâ”€ You Owe (Udhar Diya)
       â”œâ”€ You'll Receive (Udhar Liya)
       â””â”€ Net Balance
       â”‚
       â–¼
View Transaction History
       â”‚
       â”œâ”€ Date of Transaction
       â”œâ”€ Type (Udhar Diya/Liya)
       â”œâ”€ Amount
       â”œâ”€ Notes
       â””â”€ Shop Owner Name
       â”‚
       â–¼
Search Transactions
       â”‚
       â”œâ”€ Filter by Date
       â”œâ”€ Filter by Type
       â””â”€ Pagination
       â”‚
       â–¼
Read-Only Access
       â”‚
       â””â”€ Cannot Edit/Delete
       â”‚
       â–¼
Logout
```

---

## ğŸ“Š Component Hierarchy

```
App.jsx
â”œâ”€â”€ AuthProvider
â”‚   â””â”€â”€ AppContent
â”‚       â”œâ”€â”€ Login Page
â”‚       â”‚   â”œâ”€â”€ Input Component
â”‚       â”‚   â”œâ”€â”€ Button Component
â”‚       â”‚   â””â”€â”€ Alert Component
â”‚       â”‚
â”‚       â”œâ”€â”€ Register Page
â”‚       â”‚   â”œâ”€â”€ Input Component
â”‚       â”‚   â”œâ”€â”€ Button Component
â”‚       â”‚   â””â”€â”€ Alert Component
â”‚       â”‚
â”‚       â”œâ”€â”€ AdminPage (Protected)
â”‚       â”‚   â”œâ”€â”€ Navbar
â”‚       â”‚   â”œâ”€â”€ AdminDashboard
â”‚       â”‚   â”œâ”€â”€ CustomersList
â”‚       â”‚   â”œâ”€â”€ CustomerDetailsPanel
â”‚       â”‚   â”œâ”€â”€ CustomerTransactionsTable
â”‚       â”‚   â””â”€â”€ CreateTransactionModal
â”‚       â”‚
â”‚       â””â”€â”€ CustomerPage (Protected)
â”‚           â”œâ”€â”€ Navbar
â”‚           â”œâ”€â”€ Balance Cards
â”‚           â”œâ”€â”€ Transaction Table
â”‚           â””â”€â”€ Pagination Controls
```

---

## âš™ï¸ Technology Stack Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PRESENTATION LAYER (React + Vite)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ JSX Components                                       â”‚
â”‚  â€¢ Tailwind CSS Styling                                â”‚
â”‚  â€¢ React Context for State                             â”‚
â”‚  â€¢ React Router for Navigation                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ HTTP/JSON
                   â”‚ (Axios)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         API LAYER (Express.js + Node.js)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ REST API Endpoints                                  â”‚
â”‚  â€¢ JWT Authentication                                 â”‚
â”‚  â€¢ Request Validation                                 â”‚
â”‚  â€¢ Error Handling                                     â”‚
â”‚  â€¢ CORS Support                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ MongoDB Queries
                   â”‚ (Mongoose)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       DATABASE LAYER (MongoDB + Mongoose)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Users Collection                                    â”‚
â”‚  â€¢ Transactions Collection                            â”‚
â”‚  â€¢ Indexes for Performance                            â”‚
â”‚  â€¢ Data Validation                                    â”‚
â”‚  â€¢ ACID Transactions Support                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ State Management Flow

```
AuthContext
â”œâ”€â”€ user (current user info)
â”œâ”€â”€ token (JWT token)
â”œâ”€â”€ loading (auth loading state)
â””â”€â”€ Functions:
    â”œâ”€â”€ login()
    â”œâ”€â”€ register()
    â””â”€â”€ logout()

Component State (Local)
â”œâ”€â”€ Form inputs
â”œâ”€â”€ Modal open/close
â”œâ”€â”€ Loading states
â”œâ”€â”€ Error messages
â””â”€â”€ Pagination state

API Service Layer
â”œâ”€â”€ Caches responses
â”œâ”€â”€ Handles errors
â””â”€â”€ Manages headers
```

---

**Architecture Documentation Complete**  
All flows, relationships, and interactions documented.
